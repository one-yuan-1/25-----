<template>
    <div class="register-card">
        <div class="register">
            <h2>ç”¨æˆ·æ³¨å†Œ</h2>
            <p>Please register your account</p>
        </div>

        <form>
            <div>
                <label>ç”¨æˆ·å</label>

                <input 
                type="text"
                id="register_username"
                placeholder="è¯·è¾“å…¥ä½ çš„ç”¨æˆ·å"
                class="register-field"
                />

            </div>
            
            <div>
                <label>è´¦å·å¯†ç </label>

                <input 
                type="text"
                id="register_password"
                placeholder="è¯·è¾“å…¥ä½ çš„è´¦å·å¯†ç (6ä½å¯†ç )"
                class="register-field"
                />

            </div>
            <button type="submit" class="register-btn" @click="register">æ³¨å†Œ</button>
        </form>

    </div>

    <div class="reg-footer-decoration">
      <div class="pinwheel">ğŸ ğŸª ğŸ</div>
    </div>
    

</template>

<script setup>
import axios from 'axios';
//ç‚¹å‡»æ³¨å†Œåè§¦å‘çš„å‡½æ•°
function register(){
  const params = new URLSearchParams();
  let input_username = document.getElementById("username").value;
  let input_password = document.getElementById("password").value;
  params.append("username", input_username); // å‚æ•°åå’Œåç«¯ä¸€è‡´
  params.append("password", input_password);
    axios.post("/api/register", params).then(response => {
              console.log(response.data);
              if(response.data.code==0){
                alert("æ³¨å†Œå¤±è´¥:"+response.data.error_msg);
              }
              else{
                alert("æ³¨å†ŒæˆåŠŸ!");
              }
            })

}

</script>

<style scoped >


</style>